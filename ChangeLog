NOTE: Not everything gets into this ChangeLog.  There may be minor bug
fixes that we don't bother putting here.

Sunday, January 4, 2004 John Gibson <johgibso-at-indiana.edu>

   * Fix compilation bug affecting people whose yacc points to
     bison (such as recent Debian Linux systems).

Friday, January 2, 2004 John Gibson <johgibso-at-indiana.edu>

   * Fix crash during final chunk of an instrument in rare cases.
     Problem was that code assumed buses play back in ascending
     order, which turns out to be false.

Sunday, December 7, 2003 John Gibson <johgibso-at-indiana.edu>

   * New objlib object: Equalizer (various EQ types)
   * New instrument: EQ (1 band of parametric or shelving EQ)
   * Change for BEND, BEND1 and FRET instruments in STRUM family:
     function table 1 is now the amplitude envelope.  This can
     affect existing scores in certain circumstances!

Sunday, November 16, 2003 John Gibson <johgibso-at-indiana.edu>

   * Change for WIGGLE: Can specify modulator frequency as a percentage
     of carrier, to do C:M ratios.

Saturday, September 13, 2003 John Gibson <johgibso-at-indiana.edu>

   * Change for FRET1 and START1 instruments in STRUM family:
     function table 1 is now the amplitude envelope.  This can
     affect existing scores in certain circumstances!

Thursday, Sept 11, 2003  Douglas Scott  <netdscott-at-netscape.net>

	* Made perl into PERL macro for ease of configuration. (Checked most of
	    this in in June).
	* Better FP underflow protection for MOVE, PLACE

Tuesday, August 12, 2003 John Gibson <johgibso-at-indiana.edu>

   * New instruments: SPECTEQ - FFT-based EQ; DISTORT - uh, distortion

Saturday, August 9, 2003 John Gibson <johgibso-at-indiana.edu>

   * New instruments:
      FOLLOWBUTTER - envelope follower controlling a Butterworth filter
      VOCODESYNTH - channel vocoder driving an oscillator bank

Wednesday, July 30, 2003 John Gibson <johgibso-at-indiana.edu>

   * Add CHANS Minc command - returns number of channels in a sound file
     opened with rtinput.  (Works like DUR, PEAK, etc.)
   * Improvements to BUTTER: add bypass and optional specification of
     bandwidth as percentage of center frequency.

Friday, July 25, 2003 John Gibson <johgibso-at-indiana.edu>

   * Fix band reject design formula in objlib/Butter.C to conform
     to Dodge.
   * Add band pass and band reject filter types to insts.jg/BUTTER.

Monday, April 14, 2003  Douglas Scott  <netdscott-at-netscape.net>

   * Changed scheduling offset system to avoid all need for gettimeofday(),
     etc.
   * Perl-enhanced RTcmix object now subclass of RTcmix.

Thursday, March 20, 2003 Douglas Scott <dscott-at-netscape.net>

   * More work on bus code (renames for clarity, memory cleanup).
   * Bus configs now refcounted and cleaned up.
   * All Instrument methods now start with lowercase, i.e., inputChannels().
   * Added Instrument::configure(), which allows explicit deferred allocation
     of memory until just before run time.
   * Updated all instruments which depend on these things.

Sunday, March 16, 2003 Douglas Scott <dscott-at-netscape.net>

   * Reworked inTraverse code to streamline, fix bugs.  More work on bus code.
   * Instrument class is now reference counted to allow imbedded access.
   * Better dependencies in important Makefiles (to aid dev work).

Monday, March 10, 2003 Douglas Scott <dscott-at-netscape.net>

   * Added beginning of test suite in ./test/suite/.
   * Added new rterror() function to indicate non-fatal error to user.
   * More work on audio_port.c.
   * Cleanup of many headers, etc. and added H/lock.h.
   * Cleanup of intraverse.C (first stage).

Thursday, February 27, 2003 Douglas Scott <dscott-at-netscape.net>

   * Made extensive changes to the setup routines (rtinput, rtoutput, 
       rtsetparams) to allow them to fail non-fatally and be called again.
   * Worked on OSS init code.

Saturday, February 22, 2003 Brad Garton <brad-at-music.columbia.edu>

   * Added change to allow app compiling under X11 on OSX using
     the RTcmix* object
   * Added new object-ugen: lib/Orand.C (H/Ougens/h) -- collects
     various random functions scattered throughout RTcmix
   * Updated object-ugen lib/Ooscili.C, adding several new access methods

Tuesday, February 18, 2003 Douglas Scott <dscott-at-netscape.net>

   * Several rounds of cleanup and bug fixing for PVOC between 2/12 and today.

Wednesday, February 12, 2003 Douglas Scott <dscott-at-netscape.net>

   * New instrument: PVOC


**** Released RTcmix-3.4, Saturday, Jan 18, 2003 ****

Tuesday, January 9, 2003 John Gibson <johgibso-at-indiana.edu>

   * New instruments: FOLLOWER, NOISE

Friday, December 13, 2002 Douglas Scott <netdscott-at-netscape.net>

   * Added min() Minc function to match max().

Tuesday, December 10, 2002 Brad Garton <brad-at-music.columbia.edu>

   * New imbeddable RTcmix object and example programs.  This lets
     you imbed RTcmix into another program and make instrument calls
     and update parameters interactively.

Saturday, December 7, 2002 John Gibson <johgibso-at-indiana.edu>

   * New Makefile scheme, only really of interest to people developing
     instrument packages.
   * Better error messages for missing makegens in a script.  Instrument
     designers note: this changes the behavior of floc() in such a way
     that you must now test its return value and handle any errors.  (See
     insts.base/WAVETABLE/WAVETABLE.C for an example of what to do.)

Wednesday, December 4, 2002 Douglas Scott <netdscott-at-netscape.net>

   * Added ability to set thread priority in linux version.

Monday, December 2, 2002 John Gibson <johgibso-at-indiana.edu>

   * Fixed bug in AM: if modulator frequency was non-zero (to set
     fixed frequency rather than function table), the score would
     play silence or crash.
   * Added quantizegen function.

Sunday, December 1, 2002 John Gibson <johgibso-at-indiana.edu>

   * New family of instruments, called SPECTACLE, that do FFT-based
     delay processing.

Friday, November 29, 2002 John Gibson <johgibso-at-indiana.edu>

   * Added copygen function and reorganizied makegen code somewhat.

Wednesday, November 20, 2002 Douglas Scott <netdscott-at-netscape.net>

   * Added auto-stablize command to LPCPLAY to allow stabilizing of
     interpolated lpc frames in real time.
   * Updated MOVE and PLACE programs to fix old reverb problems.

Sunday, November 17, 2002 John Gibson <johgibso-at-indiana.edu>

   * Added several makegen table processing functions: offsetgen,
     scalegen, invertgen, reversegen, shiftgen.

Friday, November 8, 2002 John Gibson <johgibso-at-indiana.edu>

   * cmixplay lets you use a rescale factor for integer files.

Sunday, October 20, 2002 John Gibson <johgibso-at-indiana.edu>

   * denoise now can process less than the entire input file.

Sunday, September 22, 2002 John Gibson <johgibso-at-indiana.edu>

   * sfprint now also prints duration in minutes:seconds format.
   * cmixplay now lets you rewind and fast-forward while playing,
     and print the current playback time when you type 'm'.
     ("cmixplay -h" to see help screen.)


**** Released RTcmix-3.2, Thursday, Aug 29, 2002 ****

Wednesday, August 28, 2002 John Gibson <johgibso-at-indiana.edu>

   * Added preliminary documentation system in docs/pod.  See
     "__README__" in that directory.

Monday, August 26, 2002 Douglas Scott <netdscott-at-netscape.net>

   * Added new TRANS3 instrument (3rd-order interp) to libTRANS library.

Thursday, August 22, 2002 Douglas Scott <netdscott-at-netscape.net>

   * Added new LPCIN instrument to libLPCPLAY library.
   * Minc now ignores text on a line that follows '#' or '//'
     (i.e., shell or C++ style comments).

Friday, August 9, 2002 John Gibson <johgibso-at-indiana.edu>

   * PCMIX (the Perl front end to RTcmix) can now recognize functions
     stored outside of the RTcmix source tree.  This improvement
     courtesy of Doug Scott.

Friday, June 14, 2002 John Gibson <johgibso-at-indiana.edu>

   * cmixplay now handles times in 0:00.0 format, in addition to raw seconds.

Monday, June 10, 2002 John Gibson <johgibso-at-indiana.edu>

   * New instrument: VOCODE2

Wednesday, May 22, 2002 John Gibson <johgibso-at-indiana.edu>

   * New instrument: MOOGVCF, based on work by Stilson, Smith and Kellett.

Sunday, May 19, 2002 Doug Scott <netdscott-at-netscape.net>

   * Second set of revisions to Instrument class - made all members protected
     and renamed new inline methods to follow agreed-upon convention.  Tracked
     these changes into source where needed.  Made all sys/rtset** functions
     into static Instrument methods because they modify private state.

Saturday, Mar 30, 2002 John Gibson <johgibso-at-indiana.edu>

   * Support for FreeBSD, contributed by Carl McTague and Judd Storrs.

Monday, Mar 18, 2002 John Gibson <johgibso-at-indiana.edu>

   * Fix pvoc bug: transposing would fail for pvoc calls after
     the first in a script.

Saturday, Mar 16, 2002 Doug Scott <netdscott-at-netscape.net>

   * Added first revisions of Instrument class - inline accessor methods for 
     state, new block-add method, rtbaddout.
   * Added first version of LPCPLAY instrument (with more revisions to follow)

Thursday, Mar 7, 2002 John Gibson <johgibso-at-indiana.edu>

   * Fix horrible memory leak, introduced while adding support for MacOS X.

Thursday, Feb 14, 2002 John Gibson <johgibso-at-indiana.edu>

   * Fix bug: convolve would hang if the impulse response file was mono.

Wednesday, Feb 13, 2002 John Gibson <johgibso-at-indiana.edu>

   * Let fdump write to a file, optionally.
     fdump(gennum, "filename") writes makegen <gennum> to an ASCII file.
     Each line is an array index followed by the value at that location.
     This is for debugging of makegens.

Sunday, Jan 27, 2002 John Gibson <johgibso-at-indiana.edu>

   * Fix compilation problem with Perl and Python extensions.  They
     weren't happy if CMIXDIR in makefile.conf was a symbolic link.
   * New Minc functions to combine makegen tables (addgens and multgens).


**** Released RTcmix-3.1, Monday, Jan 21, 2002 ****

Monday, Jan 21, 2002 Dave Topper <topper@virginia.edu>

   * New feature: real time control of pfield change.  ALPHA version.
     Instruments can now have pfields controlled in real time.  Trajectories
     can be set according to makegen functions, and time value pairs used to
     specifiy which pfield should be what value, when.  See the docs inside
     insts.vccm for more detailed info (pfpath_manual_short,
     pfpath_user's_manual, rsd_users_manual).
     NOTE: Only the instruments in the insts.vccm package work with this
     feature currently.  Also, this feature does not yet work under Mac OS X.

Tuesday, Jan 1, 2002 John Gibson <johgibso-at-indiana.edu>

   * Support for audio input under MacOS X.
   * Support for fplot calls to gnuplot under MacOS X.  (See INSTALL
     for where to find info about installing gnuplot.)
   * New instruments - SHAPE (waveshape an input) and DECIMATE (reduce
      sampling resolution of input)

Saturday, Dec 5, 2001 John Gibson <johgibso-at-indiana.edu>

   * Support for MacOS X 10.1 (output only).  Thanks to Christopher
     Penrose for his help with this.
   * New FM instrument (WIGGLE).
   * New Butterworth filter instrument (BUTTER).
   * Let fplot send data to gnuplot instead of doing an ascii plot.
   * New function to see what's actually in a makegen array (fdump).
   * New gen 4 function - like setline, but lets you set curvature
     of each segment.
   * Optional arguments to gen20 to set min and max.

Saturday, Aug 4, 2001 John Gibson <johgibso-at-indiana.edu>

   * Update to more recent version of sndlib, with lots
     of reorganization of sound file code.
   * Make it easier to fix a nagging problem that happens when
     an NFS server's clock doesn't match the client's clock.
     Various parts of RTcmix will complain if a file's modification
     date is more recent than the file's peak stats. Changing
     MAX_PEAK_STATS_AGE in H/sfheader.h can silence these complaints.


**** Released RTcmix-3.0.5, Sunday, Apr 15, 2001 ****

Thursday, Feb 15 2001 Doug Scott <netdscott-at-netscape.net>

   * More work on optimizing and cleaning up MOVE and PLACE.

Wednesday, Feb 14, 2001 John Gibson <johngibson@virginia.edu>

   * Added (optional) support for Python as an alternative to Minc.

Sunday, Feb 11, 2001 Doug Scott <netdscott-at-netscape.net>

   * Fixed bugs in real time PLACE and MOVE commands that were causing
     slowdowns.

Wednesday, Feb 7, 2001 John Gibson <johngibson@virginia.edu>

   * Changed srand() so that if you don't give it a seed argument, it uses
     the system microsecond counter to seed the random number generator.
     This way, you won't get the same random number sequence each time
     you run a score.
   * New makegen, gen1, for loading samples from a sound file into a
     function table.  (See syntax description in sys/gen1.c.)
   * Make the "--force" option tell sfcreate to impose a sound file header
     on a file that doesn't have a header.  Useful for raw sound files.

Saturday, Feb 3, 2001 John Gibson <johngibson@virginia.edu>

   * New reverb instrument, FREEVERB, derived from code by Jezar
     (http://www.dreampoint.co.uk/~jzracc/freeverb.htm)
   * Fix problem in Perl extension, which would cause a numerical
     scalar in Perl to be passed to RTcmix as a string pointer.


**** Released RTcmix-3.0.4 ****

Sunday, Dec 17, 2000 John Gibson <johngibson@virginia.edu>

   * Perl extension compilation fix.
   * More n_args decls cleanups in ./sys and inst dirs.
   * Fix bug in REVMIX that caused clicks for files with more than one channel.
   * Install new PLACE

Friday, Dec 08, 2000 Douglas Scott <netdscott-at-netscape.net>

   * Added TRANSBEND instrument which allows time-varying pitch changes.
   * Fixed bug in TRANS call to tableset().
   * Completely rewrote PLACE program to make it real-time.
   * Added RT MOVE to same directory (builds both MOVE and PLACE).
   * Added builtin utilities for generating random and weighted random vals.
   * Added setexp() command to generate exponential lines for amplitudes, etc.
   * Cleaned up n_args decls in ./sys.
   * Added a check for SR <= 0 to rtsetparams().


**** Released RTcmix-3.0.3 ****

Thursday, Sep 28, 2000 Dave Topper <topper@virginia.edu>

   * Many small changes / fixes for real time performance

Saturday, September 9, 2000 John Gibson <johngibson@virginia.edu>
 
   * Fix bug: some conversion and info functions would act
     strange if they were to return -1.  (Cleaned up error
     condition in parse_dispatch.c.)

Monday, July 31, 2000 John Gibson <johngibson@virginia.edu>

   * Added (optional) support for Perl as an alternative to Minc.
   * CMIX -h (or PCMIX -h) give a usage statement.


**** Released RTcmix-3.0.2 ****

Friday, June 9, 2000 John Gibson <johngibson@virginia.edu>

   * Fix to sample_scos_1.0/STRUM2.sco. Would bail out before.
   * For Irix, create LIBDESTDIR before making instruments. That's
     the default location for the so_locations file.
   * Fix to sockit.C accept call that could affect compilation in
     some Linux distributions.


**** Released RTcmix-3.0.1 ****

NOTE: If you're running 3.0.0 now, you *really* want this update, due
to the fix Dave describes just below. There have been no changes to
instruments, so you can still use the 3.0.0 ones.   -JG

Thursday, June 8, 2000 John Gibson <johngibson@virginia.edu>

   * Fix to main.C supplied by Doug Scott -- affects compilation on
     Linux Mandrake (and probably other distros), as well as Irix 6.5.
   * Some other minor changes to encourage compilation on Irix 6.5.

Thursday, June 8, 2000 Dave Topper <topper@virginia.edu>

   * Fixed Iptr deletion conditions in intraverse()
     memory overhead should be MUCH less now


**** Released RTcmix-3.0.0 ****

Saturday, May 27, 2000 John Gibson <johngibson@virginia.edu>

   * Added new instrument, REVMIX, by Ivica Bukvic, to insts.std.
   * Revive the sndreverse program.
   * Input from files now ignores in-bus count entirely.
   * New function table assigns for FMINST and WAVESHAPE (see
     docs/README.table_assigns). This makes old scores incompatible!
   * New sample scores showing bus_config feature.

Thursday, May 25, 2000 John Gibson <johngibson@virginia.edu>

   * New files: NEWS and docs/README.bus_config

Tuesday, May 16, 2000 John Gibson <johngibson@virginia.edu>

   * Many changes to ANSI-fy some older code and to enable more
     productive use of -Wall when compiling.
   * New message functions advise(), warn() and die() for use
     by instruments and others.
   * Add README.inst_porting and an instrument sample code dir.
   * Fix compilation problem involving pthreads that triggered
     errors on Irix 6.5 (and warnings on Irix 6.3).
     (main.C, intraverse.C)

Friday, May 12, 2000 John Gibson <johngibson@virginia.edu>

   * Get rid of MAXBUF -- no longer necessary or even useful.

Wednesday, May 10, 2000 Dave Topper <topper@virginia.edu>

   * Changed bus_config schema to provide default behavior
     to maintain backwards compatibility with pre-bus_config scores

Sunday, May 7, 2000 John Gibson <johngibson@virginia.edu>

   * Update RT insts to 3.0 API (for bus_config, etc.).
   * Allocate input buffer dynamically in all RT insts that need one.
     (This is because MIPSPro compiler can't size an automatic array
     by a variable -- that's a GNU extension.) Allocate in run method
     to avoid gobbling up all memory when insts init before playing.

[Versions after 2.2.3 have new bus architecture, for instrument
 chaining and better use of multi-chan cards.]


**** Released RTcmix-2.2.3 ****

Thursday, May 4, 2000 John Gibson <johngibson@virginia.edu>

   * Reduce memory overhead of these instruments:
        COMBIT, DELAY, INPUTSIG, MIX, TRANS, STEREO, ELL, FILTSWEEP,
        FLANGE, TRANS and JDELAY.
     (Worth upgrading for this, since it was possible to exhaust
     virtual memory if a script had many, many notes -- all grabbing
     private buffers at the start, before playing.)
   * When reading off the end of a Minc array with get_array,
     return the last array element instead of zero.
     (minc_functions.c)

Monday, April 24, 2000 John Gibson <johngibson@virginia.edu>

   * If set_option("audio_off") precedes call to rtsetparams,
     then audio output port not opened, and user can run multiple
     jobs (writing to disk).

Saturday, April 22, 2000 John Gibson <johngibson@virginia.edu>

   * New instrument: stgran (Mara Helmuth)
   * Add prototypes for sound.c and minout.c functions to ugens.h
   * Various cleanups in sound.c
   * Add minout.c (from various disk-based insts) to sys dir
     (and remove from gravy and sgran)

**** Released RTcmix-2.2.2 ****

Friday, April 21, 2000 John Gibson <johngibson@virginia.edu>

   * New instruments in insts.jg: COMPLIMIT and JGRAN

Thursday, April 12, 2000 John Gibson <johngibson@virginia.edu>

   * Changed the sample WAVETABLE scores to use new function
     table assignments.
   * Merged the INSTALL files into a top-level INSTALL file.
   * New PLACE instrument - just like disk-based place, but 
     using RT mechanism for faster file i/o.

Friday, March 31, 2000 John Gibson <johngibson@virginia.edu>

   * Fixed bug in rtinput.c: sometimes got initial offset wrong in
     fairly obscure circumstances. (rtinput.c)
   * Added dBFS peak and location in seconds to peak stats report.
     (rtwritesamps.C)

Saturday, March 26, 2000 John Gibson <johngibson@virginia.edu>

   * Show peak stats, and close output file, even when killing with
     control-C. (main.C)
   * Added dbamp function for lib and Minc.
     (ampdb.c, minc_functions.c, ug_intro.c)
   * Finally created this ChangeLog.


