# The directory containing the RTcmix directory
TOPDIR = /musr

# The name of the RTcmix directory
CMIXDIR = $(TOPDIR)/RTcmix

# The dir that will contain links to the instrument dynamic shared objects
LIBDESTDIR = $(TOPDIR)/lib
#or this: LIBDESTDIR = $(CMIXDIR)/shlib

# add new packages to this list (e.g., insts.std, insts.dev)
PACKAGE_DIRS = insts.std

# Set this to TRUE to use sndlib for file i/o; otherwise use the old cmix i/o.
USE_SNDLIB = TRUE
#USE_SNDLIB = FALSE

###############################################################
# Shouldn't need to edit below this line
###############################################################

LIBDIR = $(CMIXDIR)/lib
DESTDIR = $(CMIXDIR)/bin
BINDIR = $(DESTDIR)

# Compile and link time flags
CC = gcc 
CXX = g++ 
LD = ld

INCLUDES = -I$(CMIXDIR)/H

CFLAGS = $(INCLUDES) -g -D_REENTRANT -DLINUX
CXXFLAGS = $(INCLUDES) -g -D_REENTRANT -DLINUX

ifeq ($(USE_SNDLIB),TRUE)
  CFLAGS += -DUSE_SNDLIB
  CXXFLAGS += -DUSE_SNDLIB
endif

FLAGS = $(CFLAGS)

SYSLIBS = -lpthread -lm -ldl
LDFLAGS = $(SYSLIBS)
SHARED_LDFLAGS = -shared 

# For benefit of inst makefiles that live outside CMIXDIR hierarchy
UGENS_H = $(CMIXDIR)/H/ugens.h

# for rt insts
INSTRUMENT_H = $(CMIXDIR)/rtstuff/Instrument.h
PROFILE_O = $(CMIXDIR)/rtstuff/profile.o

# for disk-based insts
RTPROFILE_O = $(CMIXDIR)/rtstuff/rtprofile.o

GENLIB = $(LIBDIR)/genlib.a
CMIXOBJS = $(CMIXDIR)/sys/cmix.o $(LIBDIR)/genlib.a

